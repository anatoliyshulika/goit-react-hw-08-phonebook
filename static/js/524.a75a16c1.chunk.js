"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[524],{3524:function(e,n,r){r.r(n),r.d(n,{default:function(){return H}});var a,t,i=r(1614),o=r(2791),l=r(5705),u=r(5282),d=(r(7427),r(8317)),s=r(4554),c=r(6151),m=r(168),h=r(6088),x=h.Z.div(a||(a=(0,m.Z)(["\n  display: flex;\n  flex-wrap: nowrap;\n"]))),b=r(8505),f=r(9434),p=r(184),v=u.object().shape({name:u.string().required(),number:u.string().phone().required()});function j(){var e=(0,f.I0)(),n=(0,l.TA)({initialValues:{name:"",number:""},validationSchema:v,onSubmit:function(n,r){var a={name:n.name,number:n.number};e((0,b.Og)(a)),r.resetForm()}});return(0,p.jsx)("div",{children:(0,p.jsxs)("form",{onSubmit:n.handleSubmit,children:[(0,p.jsxs)(x,{children:[(0,p.jsx)(d.Z,{margin:"dense",fullWidth:!0,id:"name",name:"name",label:"Name",value:n.values.name,onChange:n.handleChange,error:n.touched.name&&Boolean(n.errors.name),helperText:n.touched.name&&n.errors.name}),(0,p.jsx)(s.Z,{width:10}),(0,p.jsx)(d.Z,{margin:"dense",fullWidth:!0,id:"number",name:"number",label:"Number",value:n.values.number,onChange:n.handleChange,error:n.touched.number&&Boolean(n.errors.number),helperText:n.touched.number&&n.errors.number})]}),(0,p.jsx)(c.Z,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:"Add contact"})]})})}var g=h.Z.ul(t||(t=(0,m.Z)(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  margin-top: 10px;\n"]))),Z=r(1413),C=r(9439),y=r(4852),k=r(3400),S=r(653),w=r(3044),W=r(6259),_=r(7247),T=r(754);function A(e){var n,r=0;for(n=0;n<e.length;n+=1)r=e.charCodeAt(n)+((r<<5)-r);var a="#";for(n=0;n<3;n+=1){a+="00".concat((r>>8*n&255).toString(16)).slice(-2)}return a}function I(e){function n(e){return e.trim().split(/\s+/).length}return 1===+n(e)?{sx:{bgcolor:A(e)},children:"".concat(null===e||void 0===e?void 0:e.split(" ")[0][0])}:+n(e)>1?{sx:{bgcolor:A(e)},children:"".concat(null===e||void 0===e?void 0:e.split(" ")[0][0]).concat(null===e||void 0===e?void 0:e.split(" ")[1][0])}:void 0}var B=r(9331),O=r(1103),q=r(3168),N=r(4267),D=r(7924);function F(e){var n=e.open,r=e.setOpen,a=e.id,t=(0,f.I0)();return(0,p.jsx)(B.Z,{open:n,onClose:function(){return r(!1)},children:(0,p.jsxs)(O.Z,{variant:"outlined",role:"alertdialog","aria-labelledby":"alert-dialog-modal-title","aria-describedby":"alert-dialog-modal-description",children:[(0,p.jsx)(q.ZP,{id:"alert-dialog-modal-title",component:"h2",startDecorator:(0,p.jsx)(N.Z,{}),children:"Confirmation"}),(0,p.jsx)(D.Z,{}),(0,p.jsx)(q.ZP,{id:"alert-dialog-modal-description",textColor:"text.tertiary",children:"Are you sure you want to delete a contact?"}),(0,p.jsxs)(s.Z,{sx:{display:"flex",gap:1,justifyContent:"flex-end",pt:2},children:[(0,p.jsx)(c.Z,{variant:"outlined",color:"secondary",onClick:function(){return r(!1)},children:"Cancel"}),(0,p.jsx)(c.Z,{variant:"contained",color:"error",onClick:function(){return t((0,b.e4)(a))},children:"Delete"})]})]})})}var P=r(9818),V=r(5931),E=o.forwardRef((function(e,n){return(0,p.jsx)(V.Z,(0,Z.Z)({direction:"up",ref:n},e))})),J=u.object().shape({name:u.string().required(),number:u.string().phone().required()});function M(e){var n=e.open,r=e.setOpen,a=e.id,t=e.name,i=e.number,o=(0,f.I0)(),u=(0,l.TA)({initialValues:{name:t,number:i},validationSchema:J,onSubmit:function(e,n){var r={name:e.name,number:e.number};o((0,b.Mg)({contactId:a,contact:r})),n.resetForm()}});return(0,p.jsx)(P.Z,{fullWidth:!0,maxWidth:"lg",open:n,onClose:function(){return r(!1)},TransitionComponent:E,children:(0,p.jsxs)("form",{onSubmit:u.handleSubmit,children:[(0,p.jsx)(d.Z,{margin:"dense",fullWidth:!0,id:"name",name:"name",label:"Name",value:u.values.name,onChange:u.handleChange,error:u.touched.name&&Boolean(u.errors.name),helperText:u.touched.name&&u.errors.name}),(0,p.jsx)(d.Z,{margin:"dense",fullWidth:!0,id:"number",name:"number",label:"Number",value:u.values.number,onChange:u.handleChange,error:u.touched.number&&Boolean(u.errors.number),helperText:u.touched.number&&u.errors.number}),(0,p.jsx)(c.Z,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",onClick:function(){return r(!1)},children:"Save changes"})]})})}function R(e){var n=e.contact,r=n.id,a=n.name,t=n.number,i=(0,o.useState)(!1),l=(0,C.Z)(i,2),u=l[0],d=l[1],c=(0,o.useState)(!1),m=(0,C.Z)(c,2),h=m[0],x=m[1];return(0,p.jsxs)(y.ZP,{secondaryAction:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(k.Z,{edge:"end","aria-label":"delete",onClick:function(){return x(!0)},children:(0,p.jsx)(T.Z,{})}),(0,p.jsx)(s.Z,{display:"inline-block",width:15}),(0,p.jsx)(k.Z,{edge:"end","aria-label":"update",onClick:function(){return d(!0)},children:(0,p.jsx)(_.Z,{})})]}),children:[(0,p.jsx)(S.Z,{children:(0,p.jsx)(w.Z,(0,Z.Z)({},I(a)))}),(0,p.jsx)(W.Z,{primary:a,secondary:t}),(0,p.jsx)(F,{open:u,setOpen:d,id:r}),(0,p.jsx)(M,{open:h,setOpen:x,id:r,name:a,number:t})]})}var z=r(8098);function G(){var e=(0,f.I0)();(0,o.useEffect)((function(){e((0,b.BJ)())}),[e]);var n=(0,f.v9)(z.DI);return(0,p.jsx)(g,{children:null===n||void 0===n?void 0:n.map((function(e){return(0,p.jsx)(R,{contact:e},e.id)}))})}function H(){return(0,p.jsxs)(i.Z,{maxWidth:"lg",sx:{overflow:"hidden"},children:[(0,p.jsx)(j,{}),(0,p.jsx)(G,{})]})}}}]);
//# sourceMappingURL=524.a75a16c1.chunk.js.map